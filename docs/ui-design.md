# 商品管理UI仕様書

## 1. 概要

このドキュメントは、商品管理APIと連携するWeb UIの設計仕様を定義します。
メインターゲットは商品在庫管理の担当者で、ITに不慣れな初心者でも直感的に操作できるシンプルな画面を目指します。

## 2. 設計思想

- **シンプル第一**: 画面遷移をなくし、全ての操作を1ページで完結させます。
- **直感的な操作**: 機能ごとにセクションを分け、入力フォームとボタンを分かりやすく配置します。
- **即時フィードバック**: 操作の結果（成功・失敗）をその場で明確にユーザーに伝えます。
- **実装容易性**: Streamlitの標準コンポーネントのみを使用し、ワークショップ時間内（約20分）での実装を可能にします。

## 3. 画面レイアウト

アプリケーションは単一のページで構成されます。上から下にスクロールして操作します。

```text
+------------------------------------------+
|  かんたん商品管理ツール                  |  <- st.title
+------------------------------------------+
|                                          |
|  ▼ 商品の新規登録                        |  <- st.expander or st.header
| +--------------------------------------+ |
| | 商品名: [_____________]            | |  <- st.text_input
| | 価格(円): [_________]            | |  <- st.number_input
| |                                      | |
| |              [ 登録する ]            | |  <- st.button
| +--------------------------------------+ |
|                                          |
|  ▼ 商品の情報検索                        |  <- st.expander or st.header
| +--------------------------------------+ |
| | 商品ID: [___________]            | |  <- st.number_input
| |                                      | |
| |              [ 検索する ]            | |  <- st.button
| +--------------------------------------+ |
|                                          |
|  [ここに検索結果が表示されます]        |  <- st.success / st.error / st.write
|                                          |
+------------------------------------------+
```

## 4. 機能詳細

### 4.1. 商品登録機能

ユーザーが新しい商品をシステムに登録できるようにします。

- **APIエンドポイント**: `POST /items`

#### UIコンポーネント

- **タイトル**: `st.header("商品の新規登録")`
- **商品名入力**: `st.text_input("商品名を入力")`
- **価格入力**: `st.number_input("価格（円）", min_value=1, step=100)`
- **実行ボタン**: `st.button("登録する")`

#### 処理フロー

1. ユーザーが「商品名」と「価格」を入力します。
2. 「登録する」ボタンをクリックします。
3. アプリは`POST /items` APIを呼び出します。
4. APIからのレスポンスに応じて、結果を表示します。

#### フィードバック

- **成功時**: `st.success(f"「{商品名}」を登録しました。商品ID: {ID}")` のように成功メッセージを表示します。
- **失敗時（バリデーションエラーなど）**: `st.error("エラー: {エラー詳細}")` のようにエラーメッセージを表示します。
- **未入力時**: `st.warning("商品名と価格を入力してください。")` のように警告メッセージを表示します。

### 4.2. 商品検索機能

ユーザーが既存の商品IDを使って、商品の詳細情報を検索できるようにします。

- **APIエンドポイント**: `GET /items/{id}`

#### UIコンポーネント

- **タイトル**: `st.header("商品の情報検索")`
- **商品ID入力**: `st.number_input("商品IDを入力", min_value=1, step=1)`
- **実行ボタン**: `st.button("検索する")`

#### 処理フロー

1. ユーザーが「商品ID」を入力します。
2. 「検索する」ボタンをクリックします。
3. アプリは`GET /items/{id}` APIを呼び出します。
4. APIからのレスポンスに応じて、結果を表示します。

#### 結果表示

- **成功時**: `st.subheader("検索結果")` を表示後、以下の情報を整形して表示します。
  - **商品ID**: `st.write(f"ID: {商品ID}")`
  - **商品名**: `st.write(f"名前: {商品名}")`
  - **価格**: `st.write(f"価格: {価格}円")`
  - **登録日時**: `st.write(f"登録日時: {登録日時}")`
- **失敗時（404 Not Found）**: `st.error(f"商品ID「{ID}」は見つかりませんでした。")` のようにエラーメッセージを表示します。

## 5. 実装範囲外（スコープ外）

本ワークショップでは、以下の機能は実装しません。

- 商品の一覧表示機能
- 商品情報の更新・削除機能
- 複数商品の同時登録
- ユーザー認証
